<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style_teste.css">
    <title>Teste</title>
</head>

<body>
    <div class="container_background_teste">

        <div id="div_nome" class="exibir">
            <h1> Insira aqui seu nome para começar o teste:</h1>
            <input id="inp_nome">
            <button class="but" onclick="iniciar()"> Iniciar teste </button>

        </div>



        <div id="q1" class="exibir">

            <div class="question_display">
                <h1> Como as pessoas ao seu redor te descrevem? </h1>
            </div>



            <div id="container_answer_buttons">


                <div onclick="salvarResposta('a')" id="a_q1" class="display_answer">
                    Distante mas com boas intenções
                </div>



                <div onclick="salvarResposta('b')" id="b_q1" class="display_answer">
                    Controlador e imponente
                </div>



                <div onclick="salvarResposta('c')" id="c_q1" class="display_answer">
                    Manipulador e vingativo
                </div>



                <div onclick="salvarResposta('d')" id="d_q1" class="display_answer">
                    Protetor e empático
                </div>


            </div>
        </div>


        <div id="q2" class="exibir">

            <div class="question_display">
                <h1> Qual dessas você considera como sua melhor qualidade?</h1>
            </div>



            <div id="container_answer_buttons">


                <div onclick="salvarResposta('a')" id="a_q2" class="display_answer">
                    Criatividade </div>



                <div onclick="salvarResposta('b')" id="b_q2" class="display_answer">
                    Confiança </div>



                <div onclick="salvarResposta('c')" id="c_q2" class="display_answer">
                    Engenhosidade </div>



                <div onclick="salvarResposta('d')" id="d_q2" class="display_answer">
                    Honestidade </div>


            </div>



        </div>

        <div id="q3" class="exibir">

            <div class="question_display">
                <h1> O quê mais importa para você em uma boa música?</h1>
            </div>



            <div id="container_answer_buttons">


                <div onclick="salvarResposta('a')" id="a_q3" class="display_answer">
                    Uma melodia agradável</div>



                <div onclick="salvarResposta('b')" id="b_q3" class="display_answer">
                    Uma Letra que eu me identifique </div>



                <div onclick="salvarResposta('c')" id="c_q3" class="display_answer">
                    Rimas com uma sacada inteligente por trás </div>



                <div onclick="salvarResposta('d')" id="d_q3" class="display_answer">
                    Uma história que me faça sentir como o autor se sentiu </div>


            </div>



        </div>

        <div id="q4" class="exibir">

            <div class="question_display">
                <h1> Que tipo de história mais te interessa em um livro ou filme? </h1>
            </div>



            <div id="container_answer_buttons">


                <div onclick="salvarResposta('a')" id="a_q4" class="display_answer">

                    Aventuras mágicas em mundos utópicos</div>



                <div onclick="salvarResposta('b')" id="b_q4" class="display_answer">

                    Dramas comoventes </div>



                <div onclick="salvarResposta('c')" id="c_q4" class="display_answer">
                    Histórias frias que mostram a realidade como ela é </div>



                <div onclick="salvarResposta('d')" id="d_q4" class="display_answer">
                    Comédias relaxantes </div>


            </div>

        </div>

        <div id="q5" class="exibir">

            <div class="question_display">
                <h1> Como gosta de passar seu tempo livre? </h1>
            </div>



            <div id="container_answer_buttons">


                <div onclick="salvarResposta('a')" id="a_q5" class="display_answer">
                    Aprendendo algo novo, de preferência sozinho</div>



                <div onclick="salvarResposta('b')" id="b_q5" class="display_answer">
                    Dormindo até não poder mais </div>



                <div onclick="salvarResposta('c')" id="c_q5" class="display_answer">
                    Planejando o que posso fazer nos próximos dias úteis </div>



                <div onclick="salvarResposta('d')" id="d_q5" class="display_answer">
                    Não importa desde que eu esteja com quem eu amo </div>


            </div>

        </div>


        <div id="q6" class="exibir">

            <div class="question_display">
                <h1> Escolha algo para se proteger na sua próxima aventura!</h1>
            </div>



            <div id="container_answer_buttons">


                <div onclick="salvarResposta('a')" id="a_q6" class="display_answer">
                    Magia na sua forma mais pura </div>



                <div onclick="salvarResposta('b')" id="b_q6" class="display_answer">
                    O melhor escudo já forjado </div>



                <div onclick="salvarResposta('c')" id="c_q6" class="display_answer">
                    Um arco e flechas penetrantes </div>



                <div onclick="salvarResposta('d')" id="d_q6" class="display_answer">
                    Uma espada herdada da minha família </div>


            </div>

        </div>



        <div id="q7" class="exibir">

            <div class="question_display">
                <h1> Em qual desses lugares você iria preferir morar? </h1>
            </div>



            <div id="container_answer_buttons">


                <div onclick="salvarResposta('a')" id="a_q7" class="display_answer">
                    Em um local afastado da cidade e bem arborizado </div>



                <div onclick="salvarResposta('b')" id="b_q7" class="display_answer">
                    Em uma casa ou apartamento bem grande e no centro da cidade,
                    perto de tudo! </div>



                <div onclick="salvarResposta('c')" id="c_q7" class="display_answer">
                    Em uma casa rústica perto da praia</div>



                <div onclick="salvarResposta('d')" id="d_q7" class="display_answer">
                    Numa cidade tranquila onde todos os vizinhos se conhecem </div>

            </div>

        </div>


        <div id="div_resultado" class="exibir">

            <div id="container_resultado_titulo">
                <h1>
                    <div id="resultado_titulo"></div>
                </h1>
            </div>

            <div id="container_resultado_img"></div>
            <div id="container_resultado_text"></div>
            <button id="refazer_teste" class="but" onclick="refazer_teste()"> Refazer teste </button>


        </div>


        <button id="but_finalizar" class="but" onclick="finalizar()" style="display: none;"> Finalizar teste </button>


        <button id="avancar" class="but" onclick="button_avancar()" style="display: none;"> Avançar </button>
    </div>


    <div class="container_background_chart">
        <div class="display_chart"></div>
        <button class="but" id="button_home"> <a id="link_" href="../java/Index.html">
                Retornar à página inicial </a> </button>
    </div>

</body>

</html>

<script>
    var lista_classe = ['Mago', 'Realeza', 'Criatura da Floresta', 'Aldeão']
    var lista_img = ['<img src="../img/result_mago.png" style="height: 300px; width: 300px;">',
        '<img src="../img/result_realeza.png" style="height: 300px; width: 320px;">',
        '<img src="../img/result_criatura.png" style="height: 300px; width: 190px;">',
        '<img src="../img/result_aldeao.png" style="height: 300px; width: 320px;">',
    ]
    var lista_text = ["Magos são",
        "blablabla realeza",
        "As criaturas da Floresta são conhecidas por serem extremamente poderosas e até instáveis, ",
        "blablabla aldeao"]

    var respostaAtual = ""
    var contador_a = 0
    var contador_b = 0
    var contador_c = 0
    var contador_d = 0

    var abcd = [contador_a, contador_b, contador_c, contador_d]

    div_nome.style.display = "flex";

    function iniciar() {
        if (div_nome.style.display === "flex") {
            div_nome.style.display = "none";
            q1.style.display = "flex";
            avancar.style.display = "inline-block";
        }

        var nome_inserido = inp_nome.value
        console.log(nome_inserido)
    }

    function salvarResposta(resposta) {
        respostaAtual = resposta
        console.log(respostaAtual)
    }


    function button_avancar() {


        if (respostaAtual == "") {
            alert('Selecione uma opção')
            return
        } else if (respostaAtual == "a") {
            contador_a++
            abcd.splice(0, 1, contador_a)
        } else if (respostaAtual == "b") {
            contador_b++
            abcd.splice(1, 1, contador_b)
        } else if (respostaAtual == "c") {
            contador_c++
            abcd.splice(2, 1, contador_c)
        } else {
            contador_d++
            abcd.splice(3, 1, contador_d)
        }
        respostaAtual = "";


        if (q1.style.display === "flex") {

            q1.style.display = "none";
            q2.style.display = "flex";

        } else if (q2.style.display === "flex") {

            q2.style.display = "none";
            q3.style.display = "flex";
        } else if (q3.style.display === "flex") {

            q3.style.display = "none";
            q4.style.display = "flex";
        } else if (q4.style.display === "flex") {

            q4.style.display = "none";
            q5.style.display = "flex";
        } else if (q5.style.display === "flex") {

            q5.style.display = "none";
            q6.style.display = "flex";
        } else if (q6.style.display === "flex") {

            q6.style.display = "none";
            q7.style.display = "flex";
            avancar.style.display = "none";
            but_finalizar.style.display = "inline-block";
        } else if (q7.style.display === "flex") {
            q7.style.display = "none";
            but_finalizar.style.display = "none";
            div_resultado.style.display = "flex";
        }


    }



    function finalizar() {

        button_avancar()

        var recorrente = 0
        var resultado = 'a'
        for (i = 0; i <= abcd.length; i++) {

            if (abcd[i] >= recorrente) {
                recorrente = abcd[i]
            }

        }

        if (recorrente === contador_a) {
            resultado_titulo.innerHTML = `${lista_classe[0]}`
            container_resultado_img.innerHTML = `${lista_img[0]}`
            container_resultado_text.innerHTML = `${lista_text[0]}`
        }

        if (recorrente === contador_b) {
            resultado_titulo.innerHTML = `${lista_classe[1]}`
            container_resultado_img.innerHTML = `${lista_img[1]}`
            container_resultado_text.innerHTML = `${lista_text[1]}`
        }

        if (recorrente === contador_c) {
            resultado_titulo.innerHTML = `${lista_classe[2]}`
            container_resultado_img.innerHTML = `${lista_img[2]}`
            container_resultado_text.innerHTML = `${lista_text[2]}`
        }

        if (recorrente === contador_d) {
            resultado_titulo.innerHTML = `${lista_classe[3]}`
            container_resultado_img.innerHTML = `${lista_img[3]}`
            container_resultado_text.innerHTML = `${lista_text[3]}`
        }
    }

    function refazer_teste() {

        abcd = [contador_a, contador_b, contador_c, contador_d];
        contador_a = 0;
        contador_b = 0;
        contador_c = 0;
        contador_d = 0;


        if (div_resultado.style.display == "flex") {
            div_nome.style.display = "flex";
            div_resultado.style.display = "none";

        }


    }




</script>